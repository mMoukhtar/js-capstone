var Client;Client=(()=>{"use strict";var n={367:(n,e,t)=>{t.r(e),t.d(e,{App:()=>r});var r={};t.r(r),t.d(r,{hookEvents:()=>D,render:()=>E});var a=function(){return'\n        <nav class="flex flex-ai-c flex-jc-sb">\n            <h1 class="header__title">Travel Planner</h1>\n            <a id= "toggleButton" class="header__toggle hide-for-desktop" href="#">\n                <span></span>\n                <span></span>\n                <span></span>\n            </a>\n            <div class="header__links hide-for-mobile">\n                <a href="#">Home</a>\n                <a href="#">About</a>\n                <a href="#">Contact</a>\n            </div>\n        </nav>\n    '},o=function(){return'\n        <div id="menu" class="header__menu has-fade">\n                <a href="#">Home</a>\n                <a href="#">About</a>\n                <a href="#">Contact</a>\n        </div>\n    '};const i=function(){return'\n        <header id="header" class="header">\n            <div id="overlay" class="overlay has-fade"></div>\n            '.concat(a(),"\n            ").concat(o(),"\n        </header>")};var c=function(n){return'\n    <div class="main__list flex flex-col">\n        <div class="list-top flex flex-ai-c flex-jc-sb">\n            <p>My Trips</p>\n            <button id="addNewTripButton">add trip</button>\n        </div>\n        '.concat(l(n),'\n        <div class="flex flex-jc-sb flex-ai-c">\n            <button id="previousTripButton"><</button>\n            <button id="nextTripButton">></button>\n        </div>\n    </div>\n    ')},l=function(n){if(0===n.trips.length)return'\n        <div class="list-body green">\n        </div>\n        ';var e=n.currentTrip,t=n.trips;return'\n        <div class="list-body">\n            <div class="left flex flex-col flex-ai-c ">\n                <div class="left__trip-image" style="background-Image: url(\''.concat(t[e].image.url?t[e].image.url:"https://via.placeholder.com/600",'\')">\n                </div>\n                <div class="left__trip-buttons">\n                    <button>add lodging info</button>\n                    <button>add packing list</button>\n                    <button>add notes</button>\n                </div>\n            </div>\n            <div class="right">\n                <h3>My Trip to: ').concat(t[e].cityName,", ").concat(t[e].countryName,"</h3>\n                <h3>Departing: ").concat(t[e].departureDate,'</h3>\n                <div class="flex flex-jc-s">\n                    <div>\n                        <p>Flight Info:</p>\n                    </div>\n                    <div>\n                        <p>ORD 3:00 PM</p>\n                        <p>Flight UR322</p>\n                    </div>\n                </div>\n                <div>\n                    <button>save trip</button>\n                    <button id="removeTripButton">remove trip</button>\n                </div>\n                <div>\n                    <p>').concat(t[e].cityName,", ").concat(t[e].countryName," is days ").concat(t[e].days," away</p>\n                    <p>Typical weather for then is:</p>\n                    <p>High -").concat(t[e].weather.maxTemp," ,Low - ").concat(t[e].weather.minTemp,"</p>\n                    <p>").concat(t[e].weather.description,"</p>\n                </div>\n            </div>\n        </div>\n        ")},s=function(){return'\n    <form id="newTrip" class="main__form flex flex-col">\n        <div class="row">\n            <label for="city">My trip to:</label>\n            <input id="city" type="text" placeholder="Enter city name"/>\n        </div>\n        <div class="row">\n            <label></label>\n            <select name="countries" id="countries">\n                <option value="none">Please select a country</option>\n                <option value="US">USA</option>\n                <option value="GB">England</option>\n                <option value="FR">France</option>\n            </select>\n        </div>\n        <div class="row">\n            <label for="datepicker">Departing:</label>\n            <input id="datepicker" type="text" placeholder="MM/DD/YYYY"/>\n        </div>\n        <div class="row">\n            <button id="saveTripButton">save trip</button>\n            <button id="removeTripButton">remove trip</button>\n        </div>\n        <div class="row validation hidden">\n            <label id="cityValidator">*</label>\n        </div>\n    </form>\n    '};const u=function(n){return'\n    <main class="main">\n            '.concat(c(n),"\n            ").concat(s(),"\n    </main>")};const d=function(){return'\n    <footer class="flex flex-jc-c flex-ai-c">\n        <p>Travel Planner - 2021 Capstone</p>\n    </footer>'};var f=function(){return new Date((n=new Date,e=n.getDate(),t=n.getMonth()+1,r=n.getFullYear(),e<10&&(e="0"+e),t<10&&(t="0"+t),"".concat(t,"/").concat(e,"/").concat(r)));var n,e,t,r},p=t(300),v=t.n(p);function h(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(n)))return;var t=[],r=!0,a=!1,o=void 0;try{for(var i,c=n[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!e||t.length!==e);r=!0);}catch(n){a=!0,o=n}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return t}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return m(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function y(n,e,t,r,a,o,i){try{var c=n[o](i),l=c.value}catch(n){return void t(n)}c.done?e(l):Promise.resolve(l).then(r,a)}var g=function(){var n,e=(n=function*(n,e,t,r){try{var a=function(n){var e=parseInt((n.getTime()-f().getTime())/864e5);return Number.isNaN(e)||e<0?NaN:e}(new Date(r));if(isNaN(a))throw new Error("Invalid Departure Date");var o=yield b(n,e);if(!o.lat&&!o.lng)throw new Error("Invalid Location Entered!");var i=h(yield Promise.allSettled([w(o.lng,o.lat,a),x("".concat(n," ").concat(t))]),2);return{coordinates:o,countryName:t,countryCode:e,cityName:n,departureDate:r,days:a,weather:i[0].value,image:i[1].value}}catch(n){throw n}},function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(n){y(o,r,a,i,c,"next",n)}function c(n){y(o,r,a,i,c,"throw",n)}i(void 0)}))});return function(n,t,r,a){return e.apply(this,arguments)}}(),b=function(n,e){var t=new URL("/geo");return t.search=new URLSearchParams({cityName:n,countryCode:e}).toString(),v()(t).then((function(n){return n.json()})).catch((function(n){return console.log("error","loadGeo:: ".concat(n))}))},w=function(n,e,t){var r=new URL("/weather");return r.search=new URLSearchParams({lng:n,lat:e,days:t}).toString(),v()(r).then((function(n){return n.json()})).catch((function(n){return console.log("error","loadWeather:: ".concat(n))}))},x=function(n){var e=new URL("/image");return e.search=new URLSearchParams({searchKey:n}).toString(),v()(e).then((function(n){return n.json()})).catch((function(n){return console.log("error","loadImage:: ".concat(n))}))};const T=g;var L=function(n){return/^([A-Za-z]{3,})+/.test(n)},S=function(n){return/\d+\/\d+\/\d{4,4}/.test(n)&&f()<=new Date(n)};const _=function(n,e,t){var r=[],a=!0;return L(n)||(r.push("Please enter a valid city name"),a=!1),S(t)||(r.push("Please enter a valid date"),a=!1),0===e&&(r.push("Please select a country"),a=!1),{isValid:a,message:r}};var j={currentTrip:0,trips:[]},B=function(n){Object.assign(j,n),E()},E=function(){var n=document.getElementById("root");P(n,"\n    ".concat(i(),"\n    ").concat(u(j),"\n    ").concat(d(),"\n    ")),$("#datepicker").datepicker()},P=function(n,e){n.innerHTML=e},D=function(n){n.preventDefault();var e=n.target,t=function(){};if(e.matches("#toggleButton"))t=I;else if(e.matches("#addNewTripButton"))t=M;else if(e.matches("#saveTripButton"))t=N;else if(e.matches("#previousTripButton"))t=k;else if(e.matches("#nextTripButton"))t=R;else{if(!e.matches("#removeTripButton"))return 0;t=A}e.addEventListener("click",t(n))},I=function(){var n=document.querySelector("#header"),e=document.querySelectorAll(".has-fade");n.classList.contains("open")?(n.classList.remove("open"),e.forEach((function(n){n.classList.remove("fade-in"),n.classList.add("fade-out")}))):(n.classList.add("open"),e.forEach((function(n){n.classList.remove("fade-out"),n.classList.add("fade-in")})))},N=function(){var n=document.getElementById("city").value,e=document.getElementById("datepicker").value,t=document.getElementById("countries"),r=t.options[t.selectedIndex].value,a=t.options[t.selectedIndex].text,o=document.querySelector(".validation"),i=_(n,t.selectedIndex,e),c=i.isValid,l=i.message;c?(o.classList.add("hidden"),T(n,r,a,e).then((function(n){var e;e=n,j.trips.push(e),j.currentTrip=j.trips.length-1,E()})).catch((function(n){return console.log("error","saveTripButtonOnClick:: ".concat(n))}))):(o.innerHTML=l.join("</br>"),o.classList.remove("hidden"))},M=function(){N()},k=function(){var n=j.currentTrip;n>0&&(n--,B({currentTrip:n}))},R=function(){var n=j.currentTrip;n<j.trips.length-1&&(n++,B({currentTrip:n}))},A=function(){var n=j.currentTrip,e=j.trips;e.length>0&&(e.splice(n,1),B({currentTrip:n=0===n?n:n-1,trips:e}))};document.addEventListener("DOMContentLoaded",(function(){O()})),document.addEventListener("click",(function(n){D(n)}));var O=function(){E()}},300:(n,e)=>{var t=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();n.exports=e=t.fetch,t.fetch&&(e.default=t.fetch.bind(t)),e.Headers=t.Headers,e.Request=t.Request,e.Response=t.Response}},e={};function t(r){if(e[r])return e[r].exports;var a=e[r]={exports:{}};return n[r](a,a.exports,t),a.exports}return t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t(367)})();
//# sourceMappingURL=main.js.map